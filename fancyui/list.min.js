webpackJsonp([13],{1023:function(e,exports,n){var t=n(681);"string"==typeof t&&(t=[[e.i,t,""]]);n(2)(t,{});t.locals&&(e.exports=t.locals)},1024:function(e,exports,n){var t=n(682);"string"==typeof t&&(t=[[e.i,t,""]]);n(2)(t,{});t.locals&&(e.exports=t.locals)},300:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(800),i=t(l),a=n(892),s=t(a);exports["default"]=angular.module("list",[s["default"].name]).component("list",i["default"])},646:function(e,exports,n){exports=e.exports=n(1)(),exports.push([e.i,".conter-wrapper {\n  padding: 0;\n}\n.conter-wrapper .bp-container {\n  padding: 0;\n  box-shadow: none;\n}\n.conter-wrapper .bp-container .panel-body {\n  padding: 0;\n}\n.conter-wrapper .bp-container .ng-table-pager {\n  float: right;\n}\n.app .main-content .main-container .main-wrapper h3.panel-title {\n  margin-top: 0;\n}\n.page-title {\n  margin: 0;\n  padding-top: 0;\n}\n",""])},681:function(e,exports,n){exports=e.exports=n(1)(),exports.push([e.i,".form {\n  color: red;\n}\n",""])},682:function(e,exports,n){exports=e.exports=n(1)(),exports.push([e.i,".list {\n  color: red;\n}\n",""])},799:function(e,exports){"use strict";function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(n,t,l){return t&&e(n.prototype,t),l&&e(n,l),n}}(),l=function(){function e(t,l,i,a){n(this,e);this.Api=i,this.$state=l,this.$location=t,a?this.urls=a:this.urls={detailUrl:"shakeCityActivity/getActivityDetail",saveUrl:"shakeCityActivity/save",commitUrl:"shakeCityActivity/commit",agreeUrl:"shakeCityActivity/agree",rejectUrl:"shakeCityActivity/reject",offsaleUrl:"shakeCityActivity/offsale",stopUrl:"shakeCityActivity/stop",getLinkTypeUrl:"shakeBase/getLinkType"}}return t(e,[{key:"fetchAuth",value:function(e){var n=this;this.Api.get("shakeCityActivity/getBtnAuth","",0).then(function(t){console.log("base response",t),n.auths=t,e?e.call(n,t,"btn"):""}),this.Api.get("shakeBase/authRangeInfo","",0).then(function(t){console.log("base response",t),n.cityAuth=t,e?e.call(n,t.city,"city"):""})}},{key:"updateConfig",value:function(e,n){"btn"==n&&(this.config.createBtn.auth=e.createBtn),"city"==n&&e.readonly&&(this.config.queryFields[1].type="display",this.config.queryFields[1].displayVal=e.name,this.config.queryFields[1].initVal=e.id),this.config=angular.copy(this.config)}},{key:"stop",value:function(e,n){var t=this;return 1==confirm("确认停止该活动吗？")&&void this.Api.post(this.urls.stopUrl,{id:e}).then(function(e){alert("停止/成功"),t.goToList(n)})}},{key:"reject",value:function(e,n){var t=this;this.Api.post(this.urls.rejectUrl,{id:e}).then(function(e){alert("驳回成功"),t.goToList(n)})}}]),e}();exports["default"]=l},800:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(926),i=t(l),a=n(801),s=t(a);n(988),exports["default"]={restrict:"E",bindings:{},template:i["default"],controller:s["default"],controllerAs:"vm"}},801:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(exports,"__esModule",{value:!0});var s=n(799),r=t(s),d=function(e){function n(e,t,a){"ngInject";l(this,n);var s=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a,t,e)),r={title:"活动列表",url:"/marketcms/shakeCityActivity/getActivityList",createBtn:{displayName:"创建活动",href:"#/city/add",auth:!1},queryFields:[{type:"text",displayName:"活动名称",name:"name"},{type:"text",displayName:"提交人",name:"createUser"},{type:"select",displayName:"活动状态",name:"status",options:[{text:"全部",value:""},{text:"已保存",value:"1"},{text:"待审批",value:"2"},{text:"已同意",value:"3"},{text:"已驳回",value:"4"},{text:"已暂停",value:"5"},{text:"已结束",value:"6"}]}],tableFields:[{displayName:"活动编号",name:"code"},{displayName:"活动名称",name:"name"},{displayName:"开始时间",name:"startTime"},{displayName:"截止时间",name:"endTime"},{displayName:"活动状态",name:"status"}],operations:[{displayName:"查看",itemId:"id",href:"#/city/detail/"},{displayName:"提示",itemId:"id",action:function(e,n){alert("点击了提示按钮"+e)}}]};return s.config=r,s.fetchAuth(s.updateConfig),s}return n.$inject=["bpAjaxService","$state","$location"],a(n,e),n}(r["default"]);exports["default"]=d},889:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(966),i=t(l),a=n(890),s=t(a);n(1023);var r={restrict:"E",bindings:{formConfig:"=",model:"="},template:i["default"],controller:s["default"],controllerAs:"vm"};exports["default"]=r},890:function(e,exports){"use strict";function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function e(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(n,t,l){return t&&e(n.prototype,t),l&&e(n,l),n}}(),l=function(){function e(t){"ngInject";n(this,e),this.bpApi=t}return e.$inject=["bpAjaxService"],t(e,[{key:"refreshOptions",value:function(e,n){this.bpApi.get(e,{keyWord:n}).then(function(e){return e})}}]),e}();exports["default"]=l},891:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(889),i=t(l),a=angular.module("formTpl",[]).component("formTpl",i["default"]);exports["default"]=a},892:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(891),i=t(l),a=n(896),s=t(a),r=angular.module("template",[i["default"].name,s["default"].name]);exports["default"]=r},893:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(962),i=t(l),a=n(894),s=t(a);n(1024);var r={restrict:"E",bindings:{config:"="},template:i["default"],controller:s["default"],controllerAs:"vm"};exports["default"]=r},894:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(n,t,l){return t&&e(n.prototype,t),l&&e(n,l),n}}(),s=n(895),r=t(s),d=function(){function e(n,t){"ngInject";var a=this;i(this,e),this.name="list",this.$http=t,this.config=Object.assign({},r["default"],this.config),this.datepickerOption={viewFormat:"YYYY-MM-DD HH:mm:ss",modelFormat:"YYYY-MM-DD HH:mm:ss"},this.tableParams=new n({count:this.config.tableConfig.limit||10},{counts:[],getData:function(e){var n,i=angular.extend((n={},l(n,a.config.tableConfig.pageName,e.url().page),l(n,"limit",a.config.tableConfig.limit),n),a.form);return a.loading=!0,t({url:a.config.url,method:"GET",params:i}).then(function(n){return e.total(n.data.data.totalCount),a.loading=!1,a.config.tableConfig.listName=a.config.tableConfig.listName||"list",n.data&&n.data.data[a.config.tableConfig.listName]})}})}return e.$inject=["NgTableParams","$http"],a(e,[{key:"hasType",value:function(e){return e.type}},{key:"refreshOptions",value:function(e,n,t,i){var a=this,s=l({},n,i);this.$http({url:e,method:"GET",params:s}).then(function(e){return a[t+"List"]=e&&e.data&&e.data.data,e&&e.data&&e.data.data})}},{key:"search",value:function(){this.tableParams.parameters({page:1}).reload()}}]),e}();exports["default"]=d},895:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n={title:"活动列表",url:"/marketcms/shakeCityActivity/getActivityList",createBtn:{displayName:"创建活动",href:"#/city/add",auth:!1},queryFields:[{type:"text",displayName:"活动名称",name:"name"},{type:"uiselect",displayName:"所属城市",name:"cityId",url:"/marketcms/shakeBase/getCitys",paramField:"cityName"},{type:"text",displayName:"提交人",name:"createUser"},{type:"select",displayName:"活动状态",name:"status",options:[{text:"全部",value:""},{text:"已保存",value:"1"},{text:"待审批",value:"2"},{text:"已同意",value:"3"},{text:"已驳回",value:"4"},{text:"已暂停",value:"5"},{text:"已结束",value:"6"}]},{type:"daterange",displayName:"活动时间",name:["startTime","endTime"]}],tableFields:[{displayName:"活动编号",name:"code",hrefConfig:{link:"test/",fieldToConcat:"code"}},{displayName:"活动名称",name:"name"},{displayName:"开始时间",name:"startTime"},{displayName:"截止时间",name:"endTime"},{displayName:"提交人",name:"createUserName"},{displayName:"所属城市",name:"cityName"},{displayName:"活动位置",name:"plazaName"},{displayName:"优先级",name:"priority"},{displayName:"活动状态",name:"status"}],tableConfig:{limit:10,pageName:"page"},operations:[{displayName:"查看",itemId:"id",href:"#/city/detail/"}]};exports["default"]=n},896:function(e,exports,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var l=n(893),i=t(l),a=angular.module("listTpl",[]).component("listTpl",i["default"]);exports["default"]=a},926:function(e,exports){e.exports="<section class=\"intro-content\">\n\t<h1>列表</h1>\n\t<p>通过配置模板渲染出查询列表页。</p>\n</section>\n\n<section class=\"intro-content\">\n\t<h2>安装</h2>\n\t<p>安装fancyui</p>\n</section>\n\n<div class=\"example-block\">\n<div class=\"highlight no-border\" hljs hljs-language=\"bash\">\nnpm install fancyui --save\n</div>\n</div>\n\n<section class=\"intro-content\">\n\t<h2>注入模块</h2>\n\t<p>在模板入口js中注入Template</p>\n</section>\n\n<div class=\"example-block\">\n<div class=\"highlight no-border\" hljs hljs-language=\"javascript\">\nimport listComponent from './list.component';\nimport {Template} from 'fancyui';\nexport default angular.module('list', [\n  Template.name\n.component('list', listComponent);\n</div>\n</div>\n\n<h2>示例</h2>\n<div class=\"example-block\">\n\t<div class=\"bs-example pop-confirm-example\">\n\t\t<list-tpl config=\"vm.config\"></list-tpl>\n\t</div>\n</div>\n\n<h2>组件使用</h2>\n<h3>view代码</h3>\n<div class=\"example-block no-border\">\n<div class=\"highlight no-border\" hljs hljs-language=\"html\">\n<list-tpl config=\"vm.config\"></list-tpl>\n</div>\n</div>\n\n<h3>controller代码</h3>\n\n<div class=\"example-block no-border\">\n<div class=\"highlight no-border\" hljs hljs-language=\"javascript\">\nconstructor($state, $location) {\n  'ngInject';\n  let Config = {\n    title: '活动列表', //页面标题\n    url: '/marketcms/shakeCityActivity/getActivityList', //拉取数据的url\n    createBtn: {//按钮的权限控制硬编码，并非由配置而来，暂没有想到好的做法\n      displayName: '创建活动',\n      href: '#/city/add',\n      auth: false //注意：只有等于false才会隐藏，undefined或true都会显示,使用 !== false\n  },\n\n  //生成查询表单的信息\n  queryFields: [\n  {\n    type: 'text',\n    displayName: '活动名称',\n    name: 'name'\n  },\n  {\n    type: 'text',\n    displayName: '提交人',\n    name: 'createUser'\n  },\n  {\n    type: 'select',\n\tdisplayName: '活动状态',\n    name: 'status',\n    options: [\n    {\n      text: '全部',\n      value: ''\n    },\n    {\n      text: '已保存',\n      value: '1'\n    },\n    {\n      text: '待审批',\n      value: '2'\n    },\n    {\n      text: '已同意',\n      value: '3'\n    },\n    {\n      text: '已驳回',\n      value: '4'\n    },\n    {\n      text: '已暂停',\n      value: '5'\n    },\n    {\n      text: '已结束',\n      value: '6'\n    }\n    ]\n  }\n  ],\n  //在table中展示的字段\n  tableFields: [\n  {\n    displayName: '活动编号',\n    name: 'code'\n  },\n  {\n    displayName: '活动名称',\n    name: 'name'\n  },\n  {\n    displayName: '开始时间',\n    name: 'startTime'\n  },\n  {\n    displayName: '截止时间',\n    name: 'endTime'\n  },\n  {\n    displayName: '活动状态',\n    name: 'status'\n  }\n  ],\n  //table内的操作按钮\n  operations: [\n  {\n    displayName: '查看',\n    itemId: 'id', //贫道链接后面的字段\n    href: '#/city/detail/' //接受三种字段：state, href, action. action函数，接收当前条目id\n  },\n  {\n    displayName: '提示',\n    itemId: 'id',\n    action: (id, ngTable) => {\n    alert('点击了提示按钮' + id);\n  }\n  }\n  ]\n};\n  this.config = Config;\n  this.fetchAuth(this.updateConfig);\n}\n</div>\n</div>"},962:function(e,exports){e.exports='<div class="page-title">\n  <div class="title">\n    <h1>{{vm.config.title}}</h1>\n  </div>\n</div>\n<div class="conter-wrapper">\n  <div class="panel bp-panel-primary">\n    <div class="panel-heading">\n      <h3 class="panel-title">查询条件</h3>\n    </div>\n    <div class="panel-body">\n      <form class="row" novalidate>\n        <div ng-repeat="field in vm.config.queryFields|filter:vm.hasType">\n          <div class="form-group col-xs-4" ng-if="field.type === \'text\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n            <input class="form-control"\n                   type="text"\n                   name="text"\n                   ng-disabled="field.disabled"\n                   ng-model="vm.form[field.name]"\n                   ng-init="vm.form[field.name] = field.initVal"\n                   ng-required="field.validateRules.required"\n                   maxlength="{{field.validateRules.maxlength}}"\n                   minlength="{{field.validateRules.minlength}}"\n                   bp-field-error>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'textarea\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n                <textarea class="form-control"\n                          ng-model="vm.form[field.name]"\n                          ng-required="field.validateRules.required"\n                          maxlength="{{field.validateRules.maxlength}}"\n                          minlength="{{field.validateRules.minlength}}"\n                          bp-field-error="{{field.errorMsgs}}"></textarea>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'richtext\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <text-angular name="{{vm.form[field.name]}}"\n                          ng-model="vm.form[field.name]"\n                          ng-required="field.validateRules.required"\n                          maxlength="{{field.validateRules.maxlength}}"\n                          minlength="{{field.validateRules.minlength}}"\n                          bp-field-error>\n              <p>Any <b>HTML</b> we put in-between the text-angular tags gets automatically put into the editor if\n                there\n                <strong style="font-size: 12pt;"><u><em>is not</em></u></strong> a value assigned to the ngModel.\n              </p>\n\n              <p>If there is a value assigned to the ngModel, it replaces any html here. To see this, uncomment\n                the line\n                at the bottom of demo.html</p>\n            </text-angular>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'number\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <!-- 要把form传过去，\n              不然在bpLargeThan指令的scope里取不到from（无法$eval出值），\n                也就拿不到which指的数据, 无法实现监控-->\n              <input\n                class="form-control"\n                type="number"\n                name="{{field.name}}"\n                ng-required="field.validateRules.required"\n                bp-field-error="{{field.errorMsgs}}"\n                bp-field-error-selector="{{field.selector}}"\n                bp-large-than="field.validateRules.largeThan"\n                bp-large-than-form="vm.form"\n                max="{{field.validateRules.max}}"\n                min="{{field.validateRules.min}}"\n                ng-model="vm.form[field.name]">\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'select\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <select class="form-control" ng-model="vm.form[field.name]"\n                      ng-required="field.validateRules.required"\n                      ng-init="vm.form[field.name] = \'\'"\n                      bp-field-error\n                      ng-options="option.value as option.text for option in field.options"></select>\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'uiselect\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <ui-select\n                bp-field-error\n                ng-model="vm.form[field.name]"\n                ng-required="field.validateRules.required"\n                theme="bootstrap">\n                <ui-select-match>\n                  {{$select.selected.cityName}}\n                </ui-select-match>\n                <ui-select-choices repeat="option.cityId as option in vm[field.name + \'List\']| filter: $select.search"\n                                   refresh=\'vm.refreshOptions(field.url, field.paramField, field.name, $select.search)\'\n                                   refresh-delay="500">\n                  {{option.cityName}}\n                </ui-select-choices>\n              </ui-select>\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'Typeahead\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <input type="text"\n                     ng-required="field.validateRules.required"\n                     bp-field-error\n                     ng-model="vm.form[field.name]"\n                     uib-typeahead="option.value as option.text for option in vm.refreshOptions(field.url, $viewValue) | filter:{text:$viewValue}"\n                     uib-typeahead-no-results="noResults"\n                     class="form-control">\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'date\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <div class="dropdown">\n                <a class="dropdown-toggle"\n                   id="_dropdown{{field.name}}"\n                   role="button"\n                   data-toggle="dropdown"\n                   data-target="#"\n                   href="javascript:;">\n                  <div class="input-group">\n                    <input type="text"\n                           class="form-control"\n                           data-ng-model="vm.form[field.name]">\n                      <span class="input-group-addon">\n                        <i class="glyphicon glyphicon-calendar"></i>\n                      </span>\n                  </div>\n                </a>\n                <ul class="dropdown-menu"\n                    role="menu"\n                    aria-labelledby="dLabel">\n                  <datetimepicker\n                    data-ng-model="vm.form[field.name]"\n                    name="{{field.name}}"\n                    ng-required="field.validateRules.required"\n                    bp-field-error="{{field.errorMsgs}}"\n                    bp-large-than="field.validateRules.largeThan"\n                    bp-large-than-form="vm.form"\n                    data-datetimepicker-config="{ dropdownSelector: \'#_dropdown\'+field.name ,modelType: \'YYYY-MM-DD HH:mm:ss\'}"/>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class="form-group col-xs-8" ng-if="field.type === \'daterange\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <bp-rangepicker ng-start-model="vm.form[field.name[0]]"\n                              ng-end-model="vm.form[field.name[1]]"\n                              rangepicker-options="field.config"></bp-rangepicker>\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'radio\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div style="padding-top: 7px">\n              <label ng-repeat="option in field.options" style="margin-right: 15px">\n                <input type="radio"\n                       name="{{vm.form[field.name]}}"\n                       ng-model="vm.form[field.name]"\n                       value="{{option.value}}"/> {{option.text}}\n              </label>\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'checkbox\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div style="padding-top: 7px">\n              <input type="checkbox"\n                     ng-model="vm.form[field.name]"\n                     name="{{vm.form[field.name]}}"\n                     ng-true-value="1"\n                     ng-false-value="0">\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'image\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n\n            <div>\n              <figure class="mypic-space">\n                <img ngf-src="vm.preview" style="width:50px;height:50px">\n\n                <p>\n                  <button class="btn bp-btn-primary"\n                          ngf-select="vm.uploadFile($file, $invalidFiles)"\n                          accept="image/*"\n                          ngf-max-height="60"\n                          ngf-max-width="60"\n                          ngf-max-size="1MB"\n                          class="btn btn-default btn-sm"\n                          type="button">上传图片\n                  </button>\n                  <!--  <small>（ 限JPG,PNG,GIF格式，80*80PX ）</small> -->\n                </p>\n              </figure>\n            </div>\n          </div>\n          <div class="form-group col-xs-4" ng-if="field.type === \'display\'">\n            <label class="control-label">\n              <span class="required-star" ng-if="field.validateRules.required">*</span>\n              {{field.displayName}}\n            </label>\n            <input class="form-control"\n                   type="text"\n                   name="text"\n                   ng-disabled="field.disabled"\n                   value="{{field.displayVal}}"\n                   ng-init="vm.form[field.name] = field.initVal"\n                   ng-required="field.validateRules.required"\n                   maxlength="{{field.validateRules.maxlength}}"\n                   minlength="{{field.validateRules.minlength}}"\n                   bp-field-error>\n          </div>\n        </div>\n      </form>\n\n      <div class="text-center">\n        <button style="margin-right: 20px"\n                ng-click="vm.search()"\n                class="btn bp-btn-primary">查询\n        </button>\n        <button style="margin-right: 20px"\n                ng-click="vm.form={}"\n                class="btn bp-btn-default">重置\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="bp-container" ng-if="vm.config.createBtn.auth !== false">\n    <a\n      ng-if="vm.config.createBtn.state"\n      ui-sref="{{vm.config.createBtn.state}}"\n      target="_self"\n      class="btn bp-btn-primary"\n      title="{{vm.config.createBtn.displayName}}">\n      {{vm.config.createBtn.displayName}}\n    </a>\n    <a\n      ng-if="vm.config.createBtn.href"\n      href="{{vm.config.createBtn.href}}"\n      class="btn bp-btn-primary"\n      target="_self"\n      title="{{vm.config.createBtn.displayName}}">\n      {{vm.config.createBtn.displayName}}\n    </a>\n  </div>\n  <div class="bp-container">\n    <div class="panel-body">\n      <table class="table table-condensed table-bordered table-striped table-hover" ng-table="vm.tableParams">\n        <thead>\n        <tr>\n          <th ng-repeat="field in vm.config.tableFields">{{field.displayName}}</th>\n          <th ng-if="vm.config.operations && vm.config.operations.length">操作</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="row in $data">\n          <td ng-repeat="field in vm.config.tableFields">\n            <span ng-if="field.hrefConfig">\n              <a target="_blank" ng-href="{{field.hrefConfig.link + row[field.hrefConfig.fieldToConcat]}}">\n                {{row[field.name]}}\n              </a>\n            </span>\n            <span ng-if="!field.hrefConfig">\n              {{row[field.name]}}\n            </span>\n          </td>\n          <td ng-if="vm.config.operations.length">\n          <span ng-repeat="btn in vm.config.operations">\n            <a\n              ng-if="btn.state"\n              class="btn btn-xs bp-btn-primary"\n              ui-sref="{{btn.state}}"\n              target="_self"\n              title="{{btn.displayName}}">\n              {{btn.displayName}}\n            </a>\n            <a\n              ng-if="btn.href"\n              class="btn btn-xs bp-btn-primary"\n              href="{{btn.href}}{{row[btn.itemId]}}"\n              target="_self"\n              title="{{btn.displayName}}">\n              {{btn.displayName}}\n            </a>\n            <button ng-if="btn.action"\n                    class="btn btn-xs bp-btn-default"\n                    ng-click="btn.action(row[btn.itemId], vm.tableParams)">\n              {{btn.displayName}}\n            </button>\n          </span>\n          </td>\n        </tr>\n        <tr ng-if="!$data || !$data.length">\n          <td colspan="{{vm.config.tableFields.length + 1}}" style="text-align: center">\n            <div class="text-center" ng-show="vm.loading">\n              <i class="glyphicon glyphicon-refresh">数据加载中...</i>\n            </div>\n            <div class="text-center" ng-if="!vm.loading && (!$data || !$data.length)">\n              <i class="glyphicon glyphicon-remove"></i>您查询的条件错误或查询的结果不存在，请重新查询\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n'},966:function(e,exports){e.exports='<div ng-repeat="field in vm.formConfig.fields|filter:vm.hasType">\n  <div class="form-group" ng-if="field.type === \'text\'">\n    <div ng-include="\'text.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'textarea\'">\n    <div ng-include="\'textarea.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'richtext\'">\n    <div ng-include="\'richtext.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'number\'">\n    <div ng-include="\'number.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'select\'">\n    <div ng-include="\'select.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'uiselect\'">\n    <div ng-include="\'uiselect.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'Typeahead\'">\n    <div ng-include="\'Typeahead.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'date\'">\n    <div ng-include="\'date.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'datetimerange\'">\n    <div ng-include="\'datetimerange.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'daterange\'">\n    <div ng-include="\'daterange.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'timerange\'">\n    <div ng-include="\'timerange.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'radio\'">\n    <div ng-include="\'radio.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'checkbox\'">\n    <div ng-include="\'checkbox.html\'"></div>\n  </div>\n  <div class="form-group" ng-if="field.type === \'image\'">\n    <div ng-include="\'image.html\'"></div>\n  </div>\n</div>\n<script type="text/ng-template" id="text.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <input class="form-control"\n         type="text"\n         name="text"\n         ng-model="vm.model[field.name]"\n         ng-required="field.validateRules.required"\n         maxlength="{{field.validateRules.maxlength}}"\n         minlength="{{field.validateRules.minlength}}"\n         bp-field-error>\n</div>\n</script><script type="text/ng-template" id="textarea.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n                <textarea class="form-control"\n                          ng-model="vm.model[field.name]"\n                          ng-required="field.validateRules.required"\n                          maxlength="{{field.validateRules.maxlength}}"\n                          minlength="{{field.validateRules.minlength}}"\n                          bp-field-error="{{field.errorMsgs}}"></textarea>\n</div>\n</script><script type="text/ng-template" id="richtext.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <text-angular name="{{vm.model[field.name]}}"\n                ng-model="vm.model[field.name]"\n                ng-required="field.validateRules.required"\n                maxlength="{{field.validateRules.maxlength}}"\n                minlength="{{field.validateRules.minlength}}"\n                bp-field-error>\n    <p>Any <b>HTML</b> we put in-between the text-angular tags gets automatically put into the editor if there\n      <strong style="font-size: 12pt;"><u><em>is not</em></u></strong> a value assigned to the ngModel.</p>\n\n    <p>If there is a value assigned to the ngModel, it replaces any html here. To see this, uncomment the line\n      at the bottom of demo.html</p>\n  </text-angular>\n</div>\n</script><script type="text/ng-template" id="number.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <!-- 要把form传过去，\n  不然在bpLargeThan指令的scope里取不到from（无法$eval出值），\n    也就拿不到which指的数据, 无法实现监控-->\n  <input\n    class="form-control"\n    type="number"\n    name="{{field.name}}"\n    ng-required="field.validateRules.required"\n    bp-field-error="{{field.errorMsgs}}"\n    bp-field-error-selector="{{field.selector}}"\n    bp-large-than="field.validateRules.largeThan"\n    bp-large-than-form="vm.model"\n    max="{{field.validateRules.max}}"\n    min="{{field.validateRules.min}}"\n    ng-model="vm.model[field.name]">\n</div>\n</script><script type="text/ng-template" id="select.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <select class="form-control" ng-model="vm.model[field.name]"\n          ng-required="field.validateRules.required"\n          bp-field-error\n          ng-options="option.value as option.text for option in field.options"></select>\n</div>\n</script><script type="text/ng-template" id="uiselect.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <ui-select\n    bp-field-error\n    ng-model="vm.model[field.name]"\n    ng-required="field.validateRules.required"\n    theme="bootstrap">\n    <ui-select-match>\n      {{$select.selected.text}}\n    </ui-select-match>\n    <ui-select-choices repeat="option.value as option in value.options | filter: $select.search"\n                       refresh=\'vm.refreshOptions(field.url ,$select.search)\'\n                       refresh-delay="500">\n      {{option.text}}\n    </ui-select-choices>\n  </ui-select>\n</div>\n</script><script type="text/ng-template" id="Typeahead.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <input type="text"\n         ng-required="field.validateRules.required"\n         bp-field-error\n         ng-model="vm.model[field.name]"\n         uib-typeahead="option.value as option.text for option in vm.refreshOptions(field.url, $viewValue) | filter:{text:$viewValue}"\n         uib-typeahead-no-results="noResults"\n         class="form-control">\n</div>\n</script><script type="text/ng-template" id="date.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <div class="dropdown">\n    <a class="dropdown-toggle"\n       id="_dropdown{{field.name}}"\n       role="button"\n       data-toggle="dropdown"\n       data-target="#"\n       href="javascript:;">\n      <div class="input-group">\n        <input type="text"\n               class="form-control"\n               data-ng-model="vm.model[field.name]">\n                      <span class="input-group-addon">\n                        <i class="glyphicon glyphicon-calendar"></i>\n                      </span>\n      </div>\n    </a>\n    <ul class="dropdown-menu"\n        role="menu"\n        aria-labelledby="dLabel">\n      <datetimepicker\n        data-ng-model="vm.model[field.name]"\n        name="{{field.name}}"\n        ng-required="field.validateRules.required"\n        bp-field-error="{{field.errorMsgs}}"\n        bp-large-than="field.validateRules.largeThan"\n        bp-large-than-form="vm.model"\n        data-datetimepicker-config="{ dropdownSelector: \'#_dropdown\'+field.name ,modelType: \'YYYY-MM-DD HH:mm:ss\'}"/>\n    </ul>\n  </div>\n</div>\n</script><script type="text/ng-template" id="datetimerange.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <bp-rangepicker ng-start-model="vm.model[field.name[0]]"\n                  ng-end-model="vm.model[field.name[1]]"\n                  rangepicker-options="field.config"></bp-rangepicker>\n</div>\n</script><script type="text/ng-template" id="daterange.html"><label class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n<div class="col-sm-8" ng-init="field[\'__\' + field.name[0]] = false;field[\'__\' + field.name[1]] = false">\n  <div class="row">\n    <div class="col-xs-5 start-datepicker" style="padding-right: 0">\n      <p class="input-group">\n        <input type="text"\n               class="form-control"\n               uib-datepicker-popup\n               ng-model="vm.model[field.name[0]]"\n               date-model-format="field.config.modelFormat"\n               is-open="field[\'__\' + field.name[0]]"\n               datepicker-options="field.config[0]"\n               ng-required="field.validateRules.required"\n               show-button-bar="false"/>\n          <span class="input-group-btn">\n            <button type="button" class="btn btn-default" ng-click="field[\'__\' + field.name[0]] = !field[\'__\' + field.name[0]]"><i\n              class="glyphicon glyphicon-calendar"></i></button>\n          </span>\n      </p>\n    </div>\n    <div class="col-xs-1 input-padding-left"\n         style="text-align: center;padding-right: 0;max-width: 35px;line-height: 31px;">\n      -\n    </div>\n    <div class="col-xs-5 input-padding-left">\n      <p class="input-group">\n        <input type="text"\n               class="form-control"\n               uib-datepicker-popup\n               ng-model="vm.model[field.name[1]]"\n               date-model-format="field.config.modelFormat"\n               is-open="field[\'__\' + field.name[1]]"\n               datepicker-options="field.config[1]"\n               ng-required="field.validateRules.required"\n               show-button-bar="false"/>\n          <span class="input-group-btn">\n            <button type="button" class="btn btn-default" ng-click="field[\'__\' + field.name[1]] = !field[\'__\' + field.name[1]]"><i\n              class="glyphicon glyphicon-calendar"></i></button>\n          </span>\n      </p>\n    </div>\n  </div>\n</div>\n\n</script><script type="text/ng-template" id="timerange.html"><label class="col-sm-2 control-label"><span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}</label>\n<div class="col-sm-8">\n  <table>\n    <tr>\n      <td>\n        <div uib-timepicker\n             ng-model="vm.model[field.name[0]]"\n             ng-required="field.validateRules.required"\n             date-view-format="field.config.viewFormat"\n             date-model-format="field.config.modelFormat"\n             show-spinners="false"\n             show-seconds="field.config.showSeconds"\n             show-meridian="false"></div>\n      </td>\n      <td style="padding: 0 10px;">\n        ——\n      </td>\n      <td>\n        <div uib-timepicker\n             ng-model="vm.model[field.name[1]]"\n             date-view-format="field.config.viewFormat"\n             date-model-format="field.config.modelFormat"\n             ng-required="field.validateRules.required"\n             show-spinners="false"\n             show-seconds="field.config.showSeconds"\n             show-meridian="false"></div>\n      </td>\n    </tr>\n  </table>\n</div>\n\n</script><script type="text/ng-template" id="radio.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8" style="padding-top: 7px">\n  <label ng-repeat="option in field.options" style="margin-right: 15px">\n    <input type="radio"\n           name="{{vm.model[field.name]}}"\n           ng-model="vm.model[field.name]"\n           value="{{option.value}}"/> {{option.text}}\n  </label>\n</div>\n</script><script type="text/ng-template" id="checkbox.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8" style="padding-top: 7px">\n  <input type="checkbox"\n         ng-model="vm.model[field.name]"\n         name="{{vm.model[field.name]}}"\n         ng-true-value="1"\n         ng-false-value="0">\n</div>\n</script><script type="text/ng-template" id="image.html"><label for="" class="col-sm-2 control-label">\n  <span class="required-star" ng-if="field.validateRules.required">*</span>\n  {{field.displayName}}\n</label>\n\n<div class="col-sm-8">\n  <figure class="mypic-space">\n    <img ngf-src="vm.preview" style="width:50px;height:50px">\n\n    <p>\n      <button class="btn bp-btn-primary"\n              ngf-select="vm.uploadFile($file, $invalidFiles)"\n              accept="image/*"\n              ngf-max-height="60"\n              ngf-max-width="60"\n              ngf-max-size="1MB"\n              class="btn btn-default btn-sm"\n              type="button">上传图片\n      </button>\n      <!--  <small>（ 限JPG,PNG,GIF格式，80*80PX ）</small> -->\n    </p>\n  </figure>\n</div>\n</script>';
},988:function(e,exports,n){var t=n(646);"string"==typeof t&&(t=[[e.i,t,""]]);n(2)(t,{});t.locals&&(e.exports=t.locals)}});